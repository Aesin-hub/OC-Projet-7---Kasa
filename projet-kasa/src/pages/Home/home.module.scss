$wrapper-w: 1240px;
$card: 340px;
$cols: 3;
$gap-y: 50px;
$gap-x: calc(($wrapper-w - ($cols * $card)) / ($cols + 1)); // 55px

.home {
  &__grid_wrapper {
    width: $wrapper-w;
    margin: 0 auto;
    margin-bottom: 50px;
    background: #f6f6f6;
    border-radius: 25px;
    overflow: hidden;
    padding-block: $gap-y; // espace haut/bas dans le bloc gris
  }

  &__grid_viewport {
    height: calc(#{$card} * 2 + #{$gap-y}); // 2 lignes visibles
    overflow: hidden;
    scrollbar-gutter: stable;
    &:hover {
      overflow-y: auto;
    }
    &::-webkit-scrollbar {
      width: 10px;
    }
    &::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.25);
      border-radius: 6px;
    }
    &::-webkit-scrollbar-track {
      margin-block: 25px;
      background: transparent;
    }
  }

  &__grid {
    transition: transform 0.4s ease;
    will-change: transform;
  }

  &__row {
    display: grid;
    grid-template-columns: repeat($cols, $card);
    column-gap: $gap-x;
    padding-inline: $gap-x;
    margin-block-end: $gap-y;

    &:last-child {
      margin-block-end: 0;
    }
  }
}

/* === MOBILE GRID === */
/* ==== Mobile : on masque le grid-wrapper et on affiche une liste 1 colonne ==== */
@media (max-width: 768px) {
  /* Par sécurité, si le markup desktop était encore présent,
     on l'inhibe visuellement (mais Home.jsx ne le rend plus en mobile) */
  .home__grid-wrapper {
    display: none;
  }

  /* La liste mobile (rendu conditionnel dans Home.jsx) */
  .home__list {
    display: grid;
    grid-template-columns: 1fr; /* 1 seule colonne */
    gap: 20px;                  /* ✅ gap demandé entre les cards */
  }

  /* Les cards prennent la largeur utile du container (alignées avec la bannière) */
  .home__list .card {
    width: 100%;
  }
}
